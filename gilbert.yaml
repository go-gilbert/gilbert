version: 1.0
tasks:
  build:
  - plugin: build
    description: "Building project"
    vars:
      version: '1.0.0'
      commit: '{% git log --format=%H -n 1 %}'
    params:
      variables:
        'main.Version': '{{ version }}'
        'main.Commit': '{{ commit }}'
  - plugin: shell
    description: "Show artifact build info"
    params:
      command: gilbert version
  - if: 'uname -a'
    description: "Show a message only if job runs on UNIX"
    plugin: shell
    params:
      command: 'echo This is UNIX machine'
